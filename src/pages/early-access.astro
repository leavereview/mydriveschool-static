---
import BaseLayout from '../layouts/BaseLayout.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
---

<BaseLayout title="Founding Member Early Access" description="Join the MyDriveSchool Founding Member programme. Get 3-6 months free, locked-in pricing, and help shape the driving school software built for you.">
  <!-- Breadcrumbs -->
  <div class="bg-gray-100 py-3">
    <div class="container-custom">
      <Breadcrumbs items={[
        { label: 'Home', href: '/' },
        { label: 'Early Access' }
      ]} />
    </div>
  </div>

  <!-- Hero -->
  <section class="relative overflow-hidden bg-gradient-to-br from-brand-navy via-brand-navy to-gray-900 text-white py-16 md:py-24">
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0" style="background-image: url('/images/hero-driving.jpg'); background-size: cover; background-position: center;"></div>
    </div>
    <div class="container-custom relative">
      <div class="max-w-3xl mx-auto text-center mb-12">
        <span class="badge-primary mb-6">Launching Spring 2026</span>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6">
          Become a <span class="text-brand-red">Founding Member</span>
        </h1>
        <p class="text-xl text-gray-300 leading-relaxed">
          Help us build the driving school software you actually need. In return, you'll get free access and pricing that never goes up.
        </p>
      </div>

      <!-- Two tier cards -->
      <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
        <!-- Survey Tier -->
        <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-full bg-brand-red/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-brand-red" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>
            </div>
            <div>
              <p class="text-sm text-gray-400">2-minute survey</p>
              <h3 class="text-lg font-bold">Survey Tier</h3>
            </div>
          </div>
          <ul class="space-y-3 mb-6">
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span><strong>3 months free</strong> when we launch</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span><strong>Founding member pricing</strong> locked forever</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span>Priority access before public launch</span>
            </li>
          </ul>
          <a href="#signup-form" class="btn-primary w-full text-center">Fill in the Survey</a>
        </div>

        <!-- Call Tier -->
        <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-brand-red/40 relative">
          <div class="absolute -top-3 right-6 bg-brand-red text-white text-xs font-bold px-3 py-1 rounded-full">Best Deal</div>
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-full bg-brand-red/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-brand-red" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
            </div>
            <div>
              <p class="text-sm text-gray-400">20-minute call</p>
              <h3 class="text-lg font-bold">Call Tier</h3>
            </div>
          </div>
          <ul class="space-y-3 mb-6">
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span><strong>6 months free</strong> when we launch</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span><strong>50% off for life</strong> after free period</span>
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-5 h-5 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span><strong>"Built With" credits</strong> — your name in the app</span>
            </li>
          </ul>
          <a href="#signup-form" class="btn-primary w-full text-center">Book a Call</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Why We're Asking -->
  <section class="section bg-white">
    <div class="container-custom max-w-3xl mx-auto text-center">
      <h2 class="text-3xl font-bold text-brand-navy mb-6">Why we're asking</h2>
      <p class="text-lg text-gray-600 leading-relaxed">
        We're not building MyDriveSchool in a vacuum. We want to get it right from day one, which means understanding how <em>you</em> actually run your school — what's painful, what you wish existed, and what every other piece of software gets wrong. Your answers directly shape what we build. That's why we're happy to give away months of free access in exchange for 2 minutes of your time (or 20, if you're up for a call).
      </p>
    </div>
  </section>

  <!-- The Form -->
  <section id="signup-form" class="section bg-gray-50">
    <div class="container-custom max-w-2xl mx-auto">
      <div class="text-center mb-10">
        <h2 class="text-3xl font-bold text-brand-navy mb-3">Join the Founding Member Programme</h2>
        <p class="text-gray-600">Takes about 2 minutes. Only your email is required — everything else is optional but helps us build better software for you.</p>
      </div>

      <!-- Form -->
      <div id="form-container">
        <form id="early-access-form" class="card space-y-6" novalidate>
          <!-- Email (required) -->
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email Address <span class="text-brand-red">*</span>
            </label>
            <input type="email" id="email" name="email" required class="input" placeholder="you@example.com" />
            <p id="email-error" class="text-sm text-red-600 mt-1 hidden"></p>
          </div>

          <!-- Name -->
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
            <input type="text" id="name" name="name" class="input" placeholder="John Smith" />
          </div>

          <!-- School Name -->
          <div>
            <label for="schoolName" class="block text-sm font-medium text-gray-700 mb-2">School Name</label>
            <input type="text" id="schoolName" name="schoolName" class="input" placeholder="e.g. Smith's Driving School" />
          </div>

          <!-- School Size -->
          <div>
            <label for="schoolSize" class="block text-sm font-medium text-gray-700 mb-2">How many instructors?</label>
            <select id="schoolSize" name="schoolSize" class="input">
              <option value="">Select...</option>
              <option value="solo">Just me (solo instructor)</option>
              <option value="2-5">2-5 instructors</option>
              <option value="6-10">6-10 instructors</option>
              <option value="11+">11+ instructors</option>
            </select>
          </div>

          <!-- Current Software -->
          <div>
            <label for="currentSoftware" class="block text-sm font-medium text-gray-700 mb-2">What do you currently use to manage your school?</label>
            <select id="currentSoftware" name="currentSoftware" class="input">
              <option value="">Select...</option>
              <option value="spreadsheets">Spreadsheets (Excel, Google Sheets)</option>
              <option value="paper">Paper diary / notebook</option>
              <option value="other-software">Another software tool</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!-- Other Software (conditional) -->
          <div id="other-software-field" class="hidden">
            <label for="currentSoftwareOther" class="block text-sm font-medium text-gray-700 mb-2">Which software or method?</label>
            <input type="text" id="currentSoftwareOther" name="currentSoftwareOther" class="input" placeholder="e.g. MyDriving, BooknDrive, WhatsApp..." />
          </div>

          <!-- Biggest Challenge -->
          <div>
            <label for="biggestChallenge" class="block text-sm font-medium text-gray-700 mb-2">What's your biggest day-to-day challenge?</label>
            <select id="biggestChallenge" name="biggestChallenge" class="input">
              <option value="">Select...</option>
              <option value="scheduling">Scheduling & diary management</option>
              <option value="no-shows">No-shows & cancellations</option>
              <option value="admin">Too much admin / paperwork</option>
              <option value="payments">Chasing payments</option>
              <option value="student-tracking">Tracking student progress</option>
              <option value="other">Something else</option>
            </select>
          </div>

          <!-- Comments -->
          <div>
            <label for="comments" class="block text-sm font-medium text-gray-700 mb-2">Anything else you'd like to tell us?</label>
            <textarea id="comments" name="comments" rows="3" class="input resize-none" placeholder="e.g. features you'd love to see, frustrations with current tools, your school setup..."></textarea>
          </div>

          <!-- Upgrade to Call -->
          <div class="border-t border-gray-200 pt-6">
            <label class="flex items-start gap-3 cursor-pointer group">
              <input type="checkbox" id="wantsCall" name="wantsCall" class="mt-1 w-5 h-5 rounded border-gray-300 text-brand-red focus:ring-brand-red" />
              <div>
                <span class="font-semibold text-brand-navy group-hover:text-brand-red transition-colors">Upgrade to Call Tier</span>
                <p class="text-sm text-gray-500 mt-1">Book a 20-minute call to unlock <strong>6 months free + 50% off for life + "Built With" credits</strong>. We'll work around your schedule.</p>
              </div>
            </label>
          </div>

          <!-- Call Fields (conditional) -->
          <div id="call-fields" class="hidden space-y-6 border-l-4 border-brand-red pl-6 ml-2">
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                Phone Number <span class="text-brand-red">*</span>
              </label>
              <input type="tel" id="phone" name="phone" class="input" placeholder="07700 900000" />
              <p id="phone-error" class="text-sm text-red-600 mt-1 hidden"></p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Preferred days</label>
              <div class="flex flex-wrap gap-2">
                {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].map((day) => (
                  <label class="inline-flex items-center gap-2 bg-white border border-gray-200 rounded-lg px-3 py-2 cursor-pointer hover:border-brand-red transition-colors text-sm">
                    <input type="checkbox" name="preferredDays" value={day.toLowerCase()} class="rounded border-gray-300 text-brand-red focus:ring-brand-red" />
                    {day}
                  </label>
                ))}
              </div>
            </div>

            <div>
              <label for="preferredTime" class="block text-sm font-medium text-gray-700 mb-2">Preferred time</label>
              <select id="preferredTime" name="preferredTime" class="input">
                <option value="">Select...</option>
                <option value="morning">Morning (9am - 12pm)</option>
                <option value="afternoon">Afternoon (12pm - 5pm)</option>
                <option value="evening">Evening (5pm - 8pm)</option>
              </select>
            </div>
          </div>

          <!-- Error message -->
          <div id="form-error" class="hidden bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 text-sm"></div>

          <!-- Submit -->
          <button type="submit" id="submit-btn" class="btn-primary w-full text-lg py-4">
            <span id="submit-text">Join as Founding Member</span>
            <svg id="submit-spinner" class="hidden w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </button>
        </form>
      </div>

      <!-- Success State (hidden by default) -->
      <div id="success-container" class="hidden">
        <div class="card text-center py-12">
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-brand-navy mb-3" id="success-title">You're in!</h3>
          <p class="text-gray-600 mb-8 max-w-md mx-auto" id="success-message"></p>

          <div class="border-t border-gray-200 pt-6">
            <p class="text-sm text-gray-500 mb-4">Know another driving school owner? Share the deal:</p>
            <div class="flex flex-col sm:flex-row gap-3 justify-center">
              <button id="copy-link-btn" class="btn-secondary text-sm">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                Copy Link
              </button>
              <a id="whatsapp-share" href="#" target="_blank" rel="noopener noreferrer" class="btn-secondary text-sm">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" /></svg>
                Share on WhatsApp
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Trust Signals -->
  <section class="section bg-white">
    <div class="container-custom max-w-4xl mx-auto">
      <div class="grid md:grid-cols-2 gap-12">
        <div>
          <h2 class="text-2xl font-bold text-brand-navy mb-6">Your data is safe</h2>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
              <span class="text-gray-600">We'll only email you about MyDriveSchool — never spam, never sold</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
              <span class="text-gray-600">Unsubscribe at any time with one click</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
              <span class="text-gray-600">Built by LEAVE.REVIEW LTD (est. 2005) — a real UK company, not a fly-by-night startup</span>
            </li>
          </ul>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-brand-navy mb-6">What you'll get</h2>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span class="text-gray-600">Smart scheduling with three-way conflict detection</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span class="text-gray-600">DVSA competency tracking across 62+ skills</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span class="text-gray-600">Automated lesson reminders (SMS + email)</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span class="text-gray-600">Student self-service portal</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-brand-red flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
              <span class="text-gray-600">Packages, invoicing, and payment tracking</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Accordion -->
  <section class="section bg-gray-50">
    <div class="container-custom max-w-3xl mx-auto">
      <h2 class="text-3xl font-bold text-brand-navy text-center mb-10">Frequently Asked Questions</h2>
      <div class="space-y-4" id="faq-list">
        <div class="faq-item card">
          <button class="faq-toggle w-full flex items-center justify-between text-left py-2" aria-expanded="false">
            <span class="font-semibold text-brand-navy">When does MyDriveSchool actually launch?</span>
            <svg class="faq-icon w-5 h-5 text-gray-400 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
          </button>
          <div class="faq-content hidden text-gray-600 pt-3 pb-1">
            We're targeting Spring 2026. Founding members will get access ahead of the public launch. We'll keep you updated via email as we get closer.
          </div>
        </div>
        <div class="faq-item card">
          <button class="faq-toggle w-full flex items-center justify-between text-left py-2" aria-expanded="false">
            <span class="font-semibold text-brand-navy">What happens during the 20-minute call?</span>
            <svg class="faq-icon w-5 h-5 text-gray-400 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
          </button>
          <div class="faq-content hidden text-gray-600 pt-3 pb-1">
            It's a friendly, informal chat. We'll ask about how you currently run your school, what tools you use, and what frustrations you have. We'll also show you a preview of what we're building and get your honest feedback. No sales pitch.
          </div>
        </div>
        <div class="faq-item card">
          <button class="faq-toggle w-full flex items-center justify-between text-left py-2" aria-expanded="false">
            <span class="font-semibold text-brand-navy">Is "founding member pricing locked forever" really forever?</span>
            <svg class="faq-icon w-5 h-5 text-gray-400 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
          </button>
          <div class="faq-content hidden text-gray-600 pt-3 pb-1">
            Yes. As long as your subscription stays active, your price will never increase — even when we raise prices for new customers. It's our way of saying thank you for helping us get this right from the start.
          </div>
        </div>
        <div class="faq-item card">
          <button class="faq-toggle w-full flex items-center justify-between text-left py-2" aria-expanded="false">
            <span class="font-semibold text-brand-navy">Do I need to commit to anything?</span>
            <svg class="faq-icon w-5 h-5 text-gray-400 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
          </button>
          <div class="faq-content hidden text-gray-600 pt-3 pb-1">
            No commitment at all. The survey takes 2 minutes, the call is 20 minutes, and you can unsubscribe at any time. There's no credit card required and no obligation to use the software once it launches.
          </div>
        </div>
        <div class="faq-item card">
          <button class="faq-toggle w-full flex items-center justify-between text-left py-2" aria-expanded="false">
            <span class="font-semibold text-brand-navy">I'm a solo instructor — is this for me too?</span>
            <svg class="faq-icon w-5 h-5 text-gray-400 transition-transform flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
          </button>
          <div class="faq-content hidden text-gray-600 pt-3 pb-1">
            Absolutely. MyDriveSchool is designed for both solo ADIs and multi-instructor schools. Your feedback is especially valuable — we want to make sure the platform works for driving schools of all sizes.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Bottom CTA -->
  <section class="section bg-gradient-to-r from-brand-red to-brand-red-dark text-white">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">Ready to shape your driving school software?</h2>
      <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
        Join the founding members who are helping us build something worth switching to.
      </p>
      <a href="#signup-form" class="btn bg-white text-brand-red hover:bg-gray-100 text-lg px-8 py-4">Become a Founding Member</a>
    </div>
  </section>

  <script>
    // ── Formspree endpoint — emails submissions to johnpowell@hey.com ──
    const FORMSPREE_URL = 'https://formspree.io/f/xkoogqqg';

    // ── DOM refs ──
    const form = document.getElementById('early-access-form') as HTMLFormElement;
    const formContainer = document.getElementById('form-container')!;
    const successContainer = document.getElementById('success-container')!;
    const successTitle = document.getElementById('success-title')!;
    const successMessage = document.getElementById('success-message')!;
    const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
    const submitText = document.getElementById('submit-text')!;
    const submitSpinner = document.getElementById('submit-spinner')!;
    const formError = document.getElementById('form-error')!;
    const emailError = document.getElementById('email-error')!;
    const phoneError = document.getElementById('phone-error')!;
    const wantsCallCheckbox = document.getElementById('wantsCall') as HTMLInputElement;
    const callFields = document.getElementById('call-fields')!;
    const currentSoftwareSelect = document.getElementById('currentSoftware') as HTMLSelectElement;
    const otherSoftwareField = document.getElementById('other-software-field')!;
    const copyLinkBtn = document.getElementById('copy-link-btn')!;
    const whatsappShare = document.getElementById('whatsapp-share') as HTMLAnchorElement;

    // ── Toggle call section ──
    wantsCallCheckbox.addEventListener('change', () => {
      callFields.classList.toggle('hidden', !wantsCallCheckbox.checked);
      if (wantsCallCheckbox.checked) {
        submitText.textContent = 'Join & Book a Call';
      } else {
        submitText.textContent = 'Join as Founding Member';
      }
    });

    // ── Toggle "other" software field ──
    currentSoftwareSelect.addEventListener('change', () => {
      const show = currentSoftwareSelect.value === 'other' || currentSoftwareSelect.value === 'other-software';
      otherSoftwareField.classList.toggle('hidden', !show);
    });

    // ── FAQ accordion ──
    document.querySelectorAll('.faq-toggle').forEach((btn) => {
      btn.addEventListener('click', () => {
        const item = btn.closest('.faq-item')!;
        const content = item.querySelector('.faq-content')!;
        const icon = item.querySelector('.faq-icon')!;
        const isOpen = !content.classList.contains('hidden');

        // Close all
        document.querySelectorAll('.faq-content').forEach(c => c.classList.add('hidden'));
        document.querySelectorAll('.faq-icon').forEach(i => i.classList.remove('rotate-180'));
        document.querySelectorAll('.faq-toggle').forEach(t => t.setAttribute('aria-expanded', 'false'));

        // Open clicked (if it was closed)
        if (!isOpen) {
          content.classList.remove('hidden');
          icon.classList.add('rotate-180');
          btn.setAttribute('aria-expanded', 'true');
        }
      });
    });

    // ── Form submission via Formspree ──
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Reset errors
      formError.classList.add('hidden');
      emailError.classList.add('hidden');
      phoneError.classList.add('hidden');

      // Gather form data
      const emailInput = (document.getElementById('email') as HTMLInputElement).value.trim();
      const nameInput = (document.getElementById('name') as HTMLInputElement).value.trim();
      const schoolNameInput = (document.getElementById('schoolName') as HTMLInputElement).value.trim();
      const schoolSizeInput = (document.getElementById('schoolSize') as HTMLSelectElement).value;
      const currentSoftwareInput = currentSoftwareSelect.value;
      const currentSoftwareOtherInput = (document.getElementById('currentSoftwareOther') as HTMLInputElement).value.trim();
      const biggestChallengeInput = (document.getElementById('biggestChallenge') as HTMLSelectElement).value;
      const commentsInput = (document.getElementById('comments') as HTMLTextAreaElement).value.trim();
      const wantsCall = wantsCallCheckbox.checked;
      const phoneInput = (document.getElementById('phone') as HTMLInputElement).value.trim();
      const preferredTimeInput = (document.getElementById('preferredTime') as HTMLSelectElement).value;

      // Get checked preferred days
      const preferredDays: string[] = [];
      document.querySelectorAll<HTMLInputElement>('input[name="preferredDays"]:checked').forEach((cb) => {
        preferredDays.push(cb.value);
      });

      // Client-side validation
      if (!emailInput) {
        emailError.textContent = 'Email is required';
        emailError.classList.remove('hidden');
        return;
      }
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput)) {
        emailError.textContent = 'Please enter a valid email address';
        emailError.classList.remove('hidden');
        return;
      }
      if (wantsCall && !phoneInput) {
        phoneError.textContent = 'Phone number is required for a call booking';
        phoneError.classList.remove('hidden');
        return;
      }

      // Determine tier
      const tier = wantsCall ? 'Call (6 months free + 50% off for life)' : 'Survey (3 months free)';

      // Build Formspree payload
      const payload: Record<string, string> = {
        _subject: `[Early Access] ${nameInput || 'New signup'} — ${tier}`,
        _replyto: emailInput,
        'Email': emailInput,
        'Tier': tier,
      };
      if (nameInput) payload['Name'] = nameInput;
      if (schoolNameInput) payload['School Name'] = schoolNameInput;
      if (schoolSizeInput) payload['School Size'] = schoolSizeInput;
      if (currentSoftwareInput) {
        payload['Current Software'] = currentSoftwareInput === 'other' ? (currentSoftwareOtherInput || 'Other') : currentSoftwareInput;
      }
      if (biggestChallengeInput) payload['Biggest Challenge'] = biggestChallengeInput;
      if (commentsInput) payload['Comments'] = commentsInput;
      if (wantsCall) {
        payload['Wants Call'] = 'Yes';
        if (phoneInput) payload['Phone'] = phoneInput;
        if (preferredDays.length > 0) payload['Preferred Days'] = preferredDays.join(', ');
        if (preferredTimeInput) payload['Preferred Time'] = preferredTimeInput;
      }

      // Submit
      submitBtn.disabled = true;
      submitText.classList.add('hidden');
      submitSpinner.classList.remove('hidden');

      try {
        const res = await fetch(FORMSPREE_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
          },
          body: JSON.stringify(payload),
        });

        const data = await res.json();

        if (!res.ok) {
          throw new Error(data.errors?.map((e: {message: string}) => e.message).join(', ') || 'Something went wrong');
        }

        // Show success
        if (wantsCall) {
          successTitle.textContent = "You're in! Call tier secured.";
          successMessage.textContent = "We'll be in touch within 2 working days to schedule your 20-minute call. Keep an eye on your inbox.";
        } else {
          successTitle.textContent = "You're in! 3 months free secured.";
          successMessage.textContent = "We'll email you before launch with your exclusive access link. Keep an eye on your inbox.";
        }

        formContainer.classList.add('hidden');
        successContainer.classList.remove('hidden');

        // Scroll to success
        successContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });

      } catch (err) {
        const msg = err instanceof Error ? err.message : 'Something went wrong. Please try again.';
        formError.textContent = msg;
        formError.classList.remove('hidden');
      } finally {
        submitBtn.disabled = false;
        submitText.classList.remove('hidden');
        submitSpinner.classList.add('hidden');
      }
    });

    // ── Share buttons ──
    const shareUrl = 'https://mydriveschool.software/early-access/';
    const shareText = "I just signed up as a Founding Member for MyDriveSchool — 3-6 months free driving school software. Check it out:";

    copyLinkBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(shareUrl);
        copyLinkBtn.textContent = 'Copied!';
        setTimeout(() => { copyLinkBtn.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg> Copy Link'; }, 2000);
      } catch {
        // Fallback
        const textarea = document.createElement('textarea');
        textarea.value = shareUrl;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        copyLinkBtn.textContent = 'Copied!';
        setTimeout(() => { copyLinkBtn.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg> Copy Link'; }, 2000);
      }
    });

    whatsappShare.href = `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
  </script>
</BaseLayout>
