---
import BaseLayout from '../layouts/BaseLayout.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';

// Pricing tiers
const pricingTiers = [
  { name: 'Solo Plan', description: 'For independent ADIs', monthlyPrice: 29, popular: false },
  { name: 'School Plan', description: 'For driving schools', monthlyPrice: 79, popular: true }
];

// Offer schemas
const offerSchemas = pricingTiers.map((tier) => ({
  "@context": "https://schema.org",
  "@type": "Offer",
  "@id": `https://mydriveschool.software/pricing/#${tier.name.toLowerCase().replace(/\s+/g, '-')}`,
  "name": tier.name,
  "description": `${tier.description}. All features included.`,
  "price": tier.monthlyPrice,
  "priceCurrency": "GBP",
  "priceSpecification": {
    "@type": "UnitPriceSpecification",
    "price": tier.monthlyPrice,
    "priceCurrency": "GBP",
    "unitText": "month",
    "billingIncrement": 1
  },
  "priceValidUntil": "2026-12-31",
  "availability": "https://schema.org/InStock",
  "url": "https://mydriveschool.software/contact/",
  "seller": {
    "@type": "Organization",
    "name": "MyDriveSchool.Software"
  },
  "itemOffered": {
    "@type": "SoftwareApplication",
    "name": "MyDriveSchool.Software",
    "applicationCategory": "BusinessApplication"
  },
  "additionalProperty": [
    {
      "@type": "PropertyValue",
      "name": "Free Trial",
      "value": "14 days"
    },
    {
      "@type": "PropertyValue",
      "name": "Setup Fee",
      "value": "No"
    }
  ]
}));

// Free trial schema
const freeTrialSchema = {
  "@context": "https://schema.org",
  "@type": "Offer",
  "@id": "https://mydriveschool.software/pricing/#free-trial",
  "name": "14-Day Free Trial",
  "description": "Try MyDriveSchool.Software free for 14 days. No credit card required.",
  "price": "0",
  "priceCurrency": "GBP",
  "priceValidUntil": "2026-12-31",
  "availability": "https://schema.org/InStock",
  "url": "https://mydriveschool.software/contact/",
  "eligibleRegion": {
    "@type": "Place",
    "name": "United Kingdom"
  },
  "itemOffered": {
    "@type": "SoftwareApplication",
    "name": "MyDriveSchool.Software",
    "applicationCategory": "BusinessApplication"
  },
  "additionalProperty": [
    {
      "@type": "PropertyValue",
      "name": "Trial Duration",
      "value": "14 days"
    },
    {
      "@type": "PropertyValue",
      "name": "Credit Card Required",
      "value": "No"
    }
  ]
};
---

<BaseLayout title="Pricing - Plans from £29/mo" description="Driving school software from £29/month. DVSA tracking, scheduling, reminders, and invoicing included. No hidden fees. 14-day free trial.">
  <!-- Offer Schemas -->
  {offerSchemas.map(offerSchema => (
    <script type="application/ld+json" set:html={JSON.stringify(offerSchema)} />
  ))}
  <script type="application/ld+json" set:html={JSON.stringify(freeTrialSchema)} />

  <!-- Breadcrumbs -->
  <div class="bg-gray-100 py-3">
    <div class="container-custom">
      <Breadcrumbs items={[
        { label: 'Home', href: '/' },
        { label: 'Pricing' }
      ]} />
    </div>
  </div>

  <section class="relative overflow-hidden bg-gradient-to-br from-brand-navy to-gray-900 text-white py-16">
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0" style="background-image: url('/images/hero-pricing.jpg'); background-size: cover; background-position: center;"></div>
    </div>
    <div class="container-custom relative">
      <div class="max-w-3xl text-center mx-auto">
        <span class="inline-block bg-brand-red/20 text-brand-red-light px-3 py-1 rounded-full text-sm mb-4">Pricing</span>
        <h1 class="text-4xl md:text-5xl font-bold mb-4">Simple, Transparent Pricing</h1>
        <p class="text-xl text-gray-300">All features included. No setup fees. No contracts. Just powerful driving school software.</p>
      </div>
    </div>
  </section>

  <section class="section bg-white">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-brand-navy mb-4">Choose the Right Plan for Your Driving School</h2>
          <p class="text-gray-600 max-w-2xl mx-auto">
            Whether you're an independent ADI or managing a multi-instructor driving school, we have a plan that fits your needs. All plans include our core scheduling, student management, and DVSA tracking features with no hidden fees or long-term contracts.
          </p>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
          <div class="card border-2 border-gray-200">
            <h3 class="text-xl font-bold text-brand-navy mb-2">Solo</h3>
            <p class="text-gray-600 mb-4">For independent ADIs</p>
            <div class="text-4xl font-bold text-brand-navy mb-4">£29<span class="text-lg font-normal text-gray-500">/month</span></div>
            <ul class="text-left space-y-2 mb-6 text-sm">
              <li>✓ Unlimited students</li>
              <li>✓ Lesson scheduling with conflict detection</li>
              <li>✓ DVSA progress tracking</li>
              <li>✓ Email & SMS reminders</li>
              <li>✓ Invoicing & payment recording</li>
            </ul>
            <a href="/contact/" class="btn-outline w-full">Start Free Trial</a>
          </div>
          <div class="card border-2 border-brand-red">
            <span class="badge-primary mb-2">Most Popular</span>
            <h3 class="text-xl font-bold text-brand-navy mb-2">School</h3>
            <p class="text-gray-600 mb-4">For driving schools</p>
            <div class="text-4xl font-bold text-brand-navy mb-4">£79<span class="text-lg font-normal text-gray-500">/month</span></div>
            <ul class="text-left space-y-2 mb-6 text-sm">
              <li>✓ Everything in Solo</li>
              <li>✓ Up to 5 instructors</li>
              <li>✓ Vehicle fleet & compliance tracking</li>
              <li>✓ Business analytics & reports</li>
              <li>✓ Role-based access control</li>
            </ul>
            <a href="/contact/" class="btn-primary w-full">Start Free Trial</a>
          </div>
          <div class="card border-2 border-gray-200">
            <h3 class="text-xl font-bold text-brand-navy mb-2">Enterprise</h3>
            <p class="text-gray-600 mb-4">For large operations</p>
            <div class="text-4xl font-bold text-brand-navy mb-4">Custom</div>
            <ul class="text-left space-y-2 mb-6 text-sm">
              <li>✓ Everything in School</li>
              <li>✓ Unlimited instructors</li>
              <li>✓ Dedicated support</li>
              <li>✓ Custom onboarding</li>
            </ul>
            <a href="/contact/" class="btn-outline w-full">Contact Us</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- What's Included -->
  <section class="section bg-gray-50">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-brand-navy mb-8 text-center">What's Included in Every Plan</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Drag-and-Drop Calendar</h3>
            <p class="text-gray-600 text-sm">Interactive calendar with day, week, and month heatmap views. Reschedule lessons with drag-and-drop. Create recurring lesson series for regular students.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Automated Reminders</h3>
            <p class="text-gray-600 text-sm">Email and SMS reminders with configurable timing. Per-student notification preferences and full delivery logs so you know every message was received.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">DVSA Progress Tracking</h3>
            <p class="text-gray-600 text-sm">Full DVSA competency framework with 17 categories and 62+ skills. Track each student's journey from Not Started to Test Ready on a 6-level scale.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Student Portal</h3>
            <p class="text-gray-600 text-sm">Students log in to view upcoming lessons, track their DVSA progress, check package balances, and update their personal details.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section bg-white">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold text-brand-navy mb-8 text-center">Frequently Asked Questions</h2>
        <div class="space-y-4">
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Is there a free trial?</h3>
            <p class="text-gray-600 text-sm">Yes, all plans include a 14-day free trial with full access to all features. No credit card required to start.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Can I change plans later?</h3>
            <p class="text-gray-600 text-sm">Absolutely. Upgrade or downgrade your plan at any time. Changes take effect on your next billing cycle.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">Is there a contract?</h3>
            <p class="text-gray-600 text-sm">No long-term contracts. All plans are month-to-month and you can cancel anytime with no cancellation fees.</p>
          </div>
          <div class="card">
            <h3 class="font-bold text-brand-navy mb-2">What payment methods do you accept?</h3>
            <p class="text-gray-600 text-sm">For your students, the software supports recording payments via cash, bank transfer, and cheque. Online card payments via Stripe are coming soon. For your subscription, we accept all major credit and debit cards.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
